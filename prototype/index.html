<!-- HTML Boilerplate -->
<!DOCTYPE html>
<html lang="en">
  <!-- Head with meta tags -->
  <head>
    <meta charset="utf-8">
    <title>Supported Studios</title>
    <meta name="description" content="Supported Studios are ...">
    <meta name="author" content="Supported Studios">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Stylesheets -->
    <!-- <link rel="stylesheet" href="css/style.css"> -->
    <!-- Favicon -->
    <!-- <link rel="icon" href="favicon.ico"> -->

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  </head>
  <!-- Body -->
  <body>
    <div id="app">
      <!-- Header -->
      <header>
        <h1>Supported Studios</h1>
      </header>
      <!-- Main -->
      <main>
        <table>
          <tr>
            <th>name</th>
            <th>locality</th>
            <th>country</th>
          </tr>
          <tr v-for="placeDetail in placeDetails" :key="placeDetail.google_maps_url">
            <td><a :href="placeDetail.google_maps_url" target="_blank">{{ placeDetail.name }}</a></td>
            <td>{{ getLocality(placeDetail) }}</td>
            <td>{{ placeDetail.address_components.find(address_component => address_component.types?.includes('country'))?.long_name }}</td>
          </tr>
        </table>
      </main>
      <!-- Footer -->
      <footer>
      </footer>
    </div>

    <script src="./data/placeDetails.js"></script>
    <script>
      const { createApp } = Vue
      createApp({
        data() {
          return {
            placeDetails,
          }
        },
        methods: {
          getLocality,
        }
      }).mount('#app')
      function getLocality(placeDetail) {
        return placeDetail.address_components.find(address_component => address_component.types?.includes('locality') || address_component.types?.includes('postal_town'))?.long_name
      }
    </script>
  </body>
</html>
